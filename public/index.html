
            <form id="qrForm">
                <label>Block No:</label>
                <select name="blockNo" required>
                    <option value="A1">A1</option>
                    <option value="A2">A2</option>
                    <option value="B1">B1</option>
                    <option value="B2">B2</option>
                </select><br><br>

                <label>Flat No:</label>
                <input type="number" name="flatNo" required><br><br>

                <label>Number of Tokens:</label>
                <input type="number" name="numTokens" min="1" required><br><br>

                <label>Email:</label>
                <input type="email" name="email" required><br><br>

                <button type="submit">Submit</button>
            </form>

            <div id="result"></div>

            <script>
                document.getElementById('qrForm').addEventListener('submit', async function(e) {
                  e.preventDefault();

                  const formData = {
                    blockNo: e.target.blockNo.value,
                    flatNo: e.target.flatNo.value,
                    numTokens: e.target.numTokens.value,
                    email: e.target.email.value
                  };

                  document.getElementById('result').innerText = 'Sending...';

                  const res = await fetch('/.netlify/functions/generate-tokens', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(formData)
                  });

                  const data = await res.json();

                  if (res.ok) {
                    document.getElementById('result').innerText = 'QR codes sent to your email!';
                  } else {
                    document.getElementById('result').innerText = 'Error: ' + data.error;
                  }
                });
            </script>
